VLIBS=--pkg gmodule-2.0\
        --pkg gee-1.0\
        --pkg gtk+-3.0\
        --pkg sqlite3\
        --pkg SinticBolivia\
        --pkg GtkSinticBolivia\
		--pkg PrintPreview\
		--pkg libharu\
		--pkg posix\
		--pkg libxml-2.0\
		--pkg xlsxwriter
		
VFLAGS=--vapidir=../../../SinticBolivia \
        --vapidir=../../../SinticBolivia/widgets\
        --vapidir=../../../SinticBolivia/printpreview\
        --vapidir=../../../libs/libxlsxwriter/include\
		--vapidir=../../../libs/libharu\
		--vapidir=../../../libs/libxlsxwriter/include/
		
CFLAGS=-X -I.\
        -X -I../../../SinticBolivia\
        -X -I../../../SinticBolivia/widgets\
        -X -I../../../SinticBolivia/printpreview \
        -X -I../../../libs/libxlsxwriter/include\
        -X -L../../../libs/libxlsxwriter/lib\
        -X -I../../../libs/libharu/libharu-2.0.8/include\
        -X -L../../../libs/libharu/libharu-2.0.8\
		-X -L../../../SinticBolivia/bin\
		-X -L../../../SinticBolivia/printpreview\
		
		
CLIBS=-X -lSinticBolivia -X -lprintpreview -X -lhpdf -X -lxlsxwriter
SOURCES=module.inventory.vala \
		widgets/widget.inventory.vala \
		widgets/widget.new-product.vala \
		helpers/helper.inventory.vala\
		widgets/widget.transactions.vala \
		classes/class.catalog.vala \
		widgets/widget.inventory-report.vala\
		widgets/widget.purchase-order.vala\
		widgets/widget.purchase-orders.vala\
		classes/class.order.vala\
		classes/class.purchase-order.vala\
		widgets/widget.suppliers.vala
		
MODULE_NAME=Inventory
LIB_NAME=libInventory.so
all:
	valac -o $(LIB_NAME) --library=$(MODULE_NAME) -H $(MODULE_NAME).h $(SOURCES) -X -fPIC -X -shared $(VFLAGS) $(CFLAGS) $(VLIBS) $(CLIBS)
	glib-compile-resources inventory.gresource.xml
install:
	install $(LIB_NAME) ../../bin/modules/
	install inventory.gresource ../../bin/modules/
clean: 
	rm $(LIB_NAME)
	rm inventory.gresource
	rm *.h
	rm *.vapi
